{# AUTOGENERATED. DO NOT EDIT. #}

{% extends "config-connector/_base.html" %}

{% block page_title %}GKEHubFeatureMembership{% endblock %}
{% block body %}



Note: GKE Hub REST documentation is under construction.

<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>{{gcp_name_short}} Service Name</td>
<td>GKE Hub</td>
</tr>
<tr>
<td>{{gcp_name_short}} Service Documentation</td>
<td><a href="/anthos/multicluster-management/connect/overview">/anthos/multicluster-management/connect/overview</a></td>
</tr>
<tr>
<td>{{gcp_name_short}} REST Resource Name</td>
<td>v1beta1.projects.locations.features</td>
</tr>
<tr>
<td>{{gcp_name_short}} REST Resource Documentation</td>
<td><a class="external" href="https://gkehub.googleapis.com/$discovery/rest?version=v1beta1">https://gkehub.googleapis.com/$discovery/rest?version=v1beta</a></td>
</tr>
<tr>
<td>{{product_name_short}} Resource Short Names</td>
<td>gcpgkehubfeaturemembership<br>gcpgkehubfeaturememberships<br>gkehubfeaturemembership</td>
</tr>
<tr>
<td>{{product_name_short}} Service Name</td>
<td>gkehub.googleapis.com</td>
</tr>
<tr>
<td>{{product_name_short}} Resource Fully Qualified Name</td>
<td>gkehubfeaturememberships.gkehub.cnrm.cloud.google.com</td>
</tr>

<tr>
    <td>Can Be Referenced by IAMPolicy/IAMPolicyMember</td>
    <td>No</td>
</tr>


</tbody>
</table>

## Custom Resource Definition Properties


### Annotations
<table class="properties responsive">
<thead>
    <tr>
        <th colspan="2">Fields</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td><code>cnrm.cloud.google.com/state-into-spec</code></td>
    </tr>
</tbody>
</table>


### Spec
#### Schema
```yaml
configmanagement:
  binauthz:
    enabled: boolean
  configSync:
    git:
      gcpServiceAccountRef:
        external: string
        name: string
        namespace: string
      httpsProxy: string
      policyDir: string
      secretType: string
      syncBranch: string
      syncRepo: string
      syncRev: string
      syncWaitSecs: string
    preventDrift: boolean
    sourceFormat: string
  hierarchyController:
    enableHierarchicalResourceQuota: boolean
    enablePodTreeLabels: boolean
    enabled: boolean
  policyController:
    auditIntervalSeconds: string
    enabled: boolean
    exemptableNamespaces:
    - string
    logDeniesEnabled: boolean
    monitoring:
      backends:
      - string
    mutationEnabled: boolean
    referentialRulesEnabled: boolean
    templateLibraryInstalled: boolean
  version: string
featureRef:
  external: string
  name: string
  namespace: string
location: string
membershipRef:
  external: string
  name: string
  namespace: string
mesh:
  management: string
projectRef:
  external: string
  name: string
  namespace: string
```

<table class="properties responsive">
<thead>
    <tr>
        <th colspan="2">Fields</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td>
            <p><code>configmanagement</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Config Management-specific spec.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.binauthz</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Binauthz configuration for the cluster.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.binauthz.enabled</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}Whether binauthz is enabled in this cluster.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.configSync</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Config Sync configuration for the cluster.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.configSync.git</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.configSync.git.gcpServiceAccountRef</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.configSync.git.gcpServiceAccountRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The GCP Service Account Email used for auth when secretType is gcpServiceAccount.

Allowed value: The `email` field of an `IAMServiceAccount` resource.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.configSync.git.gcpServiceAccountRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.configSync.git.gcpServiceAccountRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.configSync.git.httpsProxy</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}URL for the HTTPS proxy to be used when communicating with the Git repo.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.configSync.git.policyDir</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The path within the Git repository that represents the top level of the repo to sync. Default: the root directory of the repository.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.configSync.git.secretType</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Type of secret configured for access to the Git repo. Must be one of ssh, cookiefile, gcenode, token, gcpserviceaccount or none. The validation of this is case-sensitive.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.configSync.git.syncBranch</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The branch of the repository to sync from. Default: master.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.configSync.git.syncRepo</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The URL of the Git repository to use as the source of truth.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.configSync.git.syncRev</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Git revision (tag or hash) to check out. Default HEAD.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.configSync.git.syncWaitSecs</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Period in seconds between consecutive syncs. Default: 15.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.configSync.preventDrift</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}Set to true to enable the Config Sync admission webhook to prevent drifts. If set to `false`, disables the Config Sync admission webhook and does not prevent drifts.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.configSync.sourceFormat</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Specifies whether the Config Sync Repo is in "hierarchical" or "unstructured" mode.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.hierarchyController</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Hierarchy Controller configuration for the cluster.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.hierarchyController.enableHierarchicalResourceQuota</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}Whether hierarchical resource quota is enabled in this cluster.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.hierarchyController.enablePodTreeLabels</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}Whether pod tree labels are enabled in this cluster.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.hierarchyController.enabled</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}Whether Hierarchy Controller is enabled in this cluster.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.policyController</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Policy Controller configuration for the cluster.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.policyController.auditIntervalSeconds</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Sets the interval for Policy Controller Audit Scans (in seconds). When set to 0, this disables audit functionality altogether.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.policyController.enabled</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}Enables the installation of Policy Controller. If false, the rest of PolicyController fields take no effect.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.policyController.exemptableNamespaces</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">list (string)</code></p>
            <p>{% verbatim %}The set of namespaces that are excluded from Policy Controller checks. Namespaces do not need to currently exist on the cluster.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.policyController.exemptableNamespaces[]</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.policyController.logDeniesEnabled</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}Logs all denies and dry run failures.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.policyController.monitoring</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Specifies the backends Policy Controller should export metrics to. For example, to specify metrics should be exported to Cloud Monitoring and Prometheus, specify backends: ["cloudmonitoring", "prometheus"]. Default: ["cloudmonitoring", "prometheus"]{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.policyController.monitoring.backends</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">list (string)</code></p>
            <p>{% verbatim %} Specifies the list of backends Policy Controller will export to. Specifying an empty value `[]` disables metrics export.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.policyController.monitoring.backends[]</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.policyController.mutationEnabled</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}Enable or disable mutation in policy controller. If true, mutation CRDs, webhook and controller deployment will be deployed to the cluster.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.policyController.referentialRulesEnabled</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}Enables the ability to use Constraint Templates that reference to objects other than the object currently being evaluated.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.policyController.templateLibraryInstalled</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">boolean</code></p>
            <p>{% verbatim %}Installs the default template library along with Policy Controller.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>configmanagement.version</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Optional. Version of ACM to install. Defaults to the latest version.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>featureRef</code></p>
            <p><i>Required</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Immutable.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>featureRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The name of the feature

Allowed value: The Google Cloud resource name of a `GKEHubFeature` resource (format: `projects/{{project}}/locations/{{location}}/features/{{name}}`).{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>featureRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>featureRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>location</code></p>
            <p><i>Required</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Immutable. The location of the feature{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>membershipRef</code></p>
            <p><i>Required</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Immutable.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>membershipRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The name of the membership

Allowed value: The Google Cloud resource name of a `GKEHubMembership` resource (format: `projects/{{project}}/locations/{{location}}/memberships/{{name}}`).{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>membershipRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>membershipRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>mesh</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Manage Mesh Features{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>mesh.management</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Whether to automatically manage Service Mesh. Possible values: MANAGEMENT_UNSPECIFIED, MANAGEMENT_AUTOMATIC, MANAGEMENT_MANUAL{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef</code></p>
            <p><i>Required</i></p>
        </td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}Immutable. The Project that this resource belongs to.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef.external</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}The project of the feature

Allowed value: The Google Cloud resource name of a `Project` resource (format: `projects/{{name}}`).{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef.name</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td>
            <p><code>projectRef.namespace</code></p>
            <p><i>Optional</i></p>
        </td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/{% endverbatim %}</p>
        </td>
    </tr>
</tbody>
</table>



### Status
#### Schema
```yaml
conditions:
- lastTransitionTime: string
  message: string
  reason: string
  status: string
  type: string
observedGeneration: integer
```

<table class="properties responsive">
<thead>
    <tr>
        <th colspan="2">Fields</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td><code>conditions</code></td>
        <td>
            <p><code class="apitype">list (object)</code></p>
            <p>{% verbatim %}Conditions represent the latest available observation of the resource's current state.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[]</code></td>
        <td>
            <p><code class="apitype">object</code></p>
            <p>{% verbatim %}{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].lastTransitionTime</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Last time the condition transitioned from one status to another.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].message</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Human-readable message indicating details about last transition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].reason</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Unique, one-word, CamelCase reason for the condition's last transition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].status</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Status is the status of the condition. Can be True, False, Unknown.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>conditions[].type</code></td>
        <td>
            <p><code class="apitype">string</code></p>
            <p>{% verbatim %}Type is the type of the condition.{% endverbatim %}</p>
        </td>
    </tr>
    <tr>
        <td><code>observedGeneration</code></td>
        <td>
            <p><code class="apitype">integer</code></p>
            <p>{% verbatim %}ObservedGeneration is the generation of the resource that was most recently observed by the Config Connector controller. If this is equal to metadata.generation, then that means that the current reported status reflects the most recent desired state of the resource.{% endverbatim %}</p>
        </td>
    </tr>
</tbody>
</table>

## Sample YAML(s)

### Typical Use Case
```yaml
# Copyright 2021 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: gkehub.cnrm.cloud.google.com/v1beta1
kind: GKEHubFeatureMembership
metadata:
  name: gkehubfeaturemembership-sample
spec:
  projectRef:
    name: gkehubfeaturemembership-dep
  location: global
  membershipRef:
    name: gkehubfeaturemembership-dep
  featureRef:
    name: gkehubfeaturemembership-dep
  configmanagement:
    configSync:
      sourceFormat: unstructured
      git:
        syncRepo: "https://github.com/GoogleCloudPlatform/cloud-foundation-toolkit"
        syncBranch: "master"
        policyDir: "config-connector"
        syncWaitSecs: "20"
        syncRev: "HEAD"
        secretType: "none"
    policyController:
      enabled: true
      exemptableNamespaces:
        - "test-namespace"
      referentialRulesEnabled: true
      logDeniesEnabled: true
      templateLibraryInstalled: true
      auditIntervalSeconds: "20"
    binauthz:
      enabled: true
    hierarchyController:
      enabled: true
      enablePodTreeLabels: true
      enableHierarchicalResourceQuota: true
---
apiVersion: container.cnrm.cloud.google.com/v1beta1
kind: ContainerCluster
metadata:
  annotations:
    cnrm.cloud.google.com/project-id: gkehubfeaturemembership-dep
  name: gkehubfeaturemembership-dep
spec:
  location: us-central1-a
  initialNodeCount: 1
  workloadIdentityConfig:
    # Workload Identity supports only a single namespace based on your project name.
    workloadPool: gkehubfeaturemembership-dep.svc.id.goog
---
apiVersion: gkehub.cnrm.cloud.google.com/v1beta1
kind: GKEHubFeature
metadata:
  name: gkehubfeaturemembership-dep
spec:
  projectRef:
    name: gkehubfeaturemembership-dep
  location: global
  # The resourceID must be "configmanagement" if you want to use Anthos config
  # management feature.
  resourceID: configmanagement
---
apiVersion: gkehub.cnrm.cloud.google.com/v1beta1
kind: GKEHubMembership
metadata:
  annotations:
    cnrm.cloud.google.com/project-id: gkehubfeaturemembership-dep
  name: gkehubfeaturemembership-dep
spec:
  location: global
  authority:
    # Issuer must contain a link to a valid JWT issuer. Your ContainerCluster is one.
    issuer: https://container.googleapis.com/v1/projects/gkehubfeaturemembership-dep/locations/us-central1-a/clusters/gkehubfeaturemembership-dep
  description: A sample GKE Hub membership
  endpoint:
    gkeCluster:
      resourceRef:
        name: gkehubfeaturemembership-dep
---
apiVersion: resourcemanager.cnrm.cloud.google.com/v1beta1
kind: Project
metadata:
  name: gkehubfeaturemembership-dep
spec:
  name: Config Connector Sample
  organizationRef:
    # Replace "${ORG_ID?}" with the numeric ID for your organization
    external: "${ORG_ID?}"
  billingAccountRef:
    # Replace "${BILLING_ACCOUNT_ID?}" with the numeric ID for your billing account
    external: "${BILLING_ACCOUNT_ID?}"
---
apiVersion: serviceusage.cnrm.cloud.google.com/v1beta1
kind: Service
metadata:
  annotations:
    cnrm.cloud.google.com/project-id: gkehubfeaturemembership-dep
    cnrm.cloud.google.com/disable-dependent-services: "false"
  name: gkehubfeaturemembership-dep-1
spec:
  resourceID: container.googleapis.com
---
apiVersion: serviceusage.cnrm.cloud.google.com/v1beta1
kind: Service
metadata:
  annotations:
    cnrm.cloud.google.com/project-id: gkehubfeaturemembership-dep
    cnrm.cloud.google.com/disable-dependent-services: "false"
  name: gkehubfeaturemembership-dep-2
spec:
  resourceID: gkehub.googleapis.com
---
apiVersion: serviceusage.cnrm.cloud.google.com/v1beta1
kind: Service
metadata:
  annotations:
    cnrm.cloud.google.com/project-id: gkehubfeaturemembership-dep
    cnrm.cloud.google.com/disable-dependent-services: "false"
  name: gkehubfeaturemembership-dep-3
spec:
  resourceID: anthosconfigmanagement.googleapis.com
```


{% endblock %}
